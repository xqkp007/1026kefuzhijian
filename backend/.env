# -----------------------
# 核心服务连接配置
# -----------------------
# PostgreSQL 连接串：格式 postgresql+psycopg2://<user>:<password>@<host>:<port>/<db>
DATABASE_URL=postgresql+psycopg2://postgres:140052@localhost:5432/agent_eval
# Redis 作为 Celery Broker & Backend
REDIS_URL=redis://localhost:6379/0

# -----------------------
# 评测引擎基础参数
# -----------------------
# 允许访问的 Agent API Host（以逗号分隔，* 表示无限制）
AGENT_API_ALLOWLIST=*
# 每个问题运行次数（PRD 默认为 5）
RUNS_PER_ITEM=5
# 单次 Agent 调用超时时间（秒）
TIMEOUT_SECONDS=30
# Agent 调用失败后重试次数（额外重试次数，0 表示不重试）
REQUEST_MAX_RETRIES=1
# Celery worker 并发度
EVALUATION_CONCURRENCY=1
# 针对同一 Agent 的速率限制
RATE_LIMIT_PER_AGENT=1/s
# 上传数据集的最大行数与文件体积
MAX_DATASET_ROWS=1000
MAX_DATASET_FILE_SIZE_MB=5
# 是否启用流式响应解析（如果目标 Agent 不支持 SSE 建议关闭）
USE_STREAM=false
# 后端日志级别
LOG_LEVEL=INFO
# 数据集保存目录（便于复查或重放）
UPLOADS_DIR=storage/uploads

# -----------------------
# 被测 Agent 调用认证
# -----------------------
# 默认附加的 Authorization Header；如需禁用请置空
AGENT_API_BEARER=3uVFGB9A9iryZiT8CoK16LUsQXiWXnx7

# -----------------------
# 智谱模型主评测参数
# -----------------------
# 主评测阶段所使用的智谱模型及推理设置
ZHIPU_API_KEY=db368f5ffffa495dacc2ab72ba8c20d3.d6Z63DvOKP5rPbmE
ZHIPU_MODEL_ID=glm-4.6
ZHIPU_THINKING_TYPE=disabled
ZHIPU_MAX_TOKENS=4096
ZHIPU_TEMPERATURE=0.7
ZHIPU_DIALOG_MODE=single

# -----------------------
# 模型矫正配置（US-02/03/04/05）
# -----------------------
# 矫正阶段固定使用的模型参数；可与主评测参数不同
# （本例保持与主评测一致，仍然禁用思维模式）
CORRECTION_MODEL_ID=glm-4.6
CORRECTION_TEMPERATURE=0.3
CORRECTION_MAX_TOKENS=512
# 矫正调用的超时与重试策略
CORRECTION_TIMEOUT_SECONDS=30
CORRECTION_MAX_RETRIES=3
